<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>数据</title><style>.table{width: 100%;margin-top: 50px;border-collapse:collapse;}.table,th, td{border: 1px solid #eeeeee;}.textarea{width: 100%;text-decoration-style: none;}.button{padding: 10px 20px;}</style></head><body><div>奖品Id:</div><textarea class="textarea">20171114142650981</textarea></br><button class="button">确认</button><table class="table"><thead><tr><td>活动名称</td><td>名称Id</td><td>已发放量</td><td>名额总量</td><td>活动描述</td></tr></thead><tbody></tbody></table></body></html><script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script><script>function getdata(e){$.ajax({url:e,dataType:"jsonp",jsonp:"callback",jsonpCallback:"functionCall",success:function(e){console.log(JSON.stringify(e)),"00000"==e.respCode?renderPrecent(e):alert("程序出错了！")},error:function(){}})}function renderPrecent(e){var t=e.prizeCountInfoList;$("tbody").html(""),t.forEach(function(e,t){var n=document.createElement("tr"),r=0,a=(e.prizeId.trim(),Number(e.dailyPrizePayCount)),i=Number(e.dailyPrizePayCountTotal);r=(a/i*100).toFixed(2),(r=Number(r))>=100&&(r=100);var c=document.createElement("td");e.prizeName||(e.prizeName=""),e.prizeDesc||(e.prizeDesc=""),c.innerHTML=e.prizeName+"</br>"+e.prizeDesc,n.appendChild(c);var d=document.createElement("td");d.innerHTML=e.prizeId,n.appendChild(d);var o=document.createElement("td");o.innerHTML=a,n.appendChild(o);var l=document.createElement("td");l.innerHTML=i,n.appendChild(l);var p=document.createElement("td");p.innerHTML=r+"%",n.appendChild(p),$("tbody").append(n)})}var $text=document.getElementsByClassName("textarea");$(document).on("click","button",function(){var e=$text[0].value;if(""!=e){encodeURIComponent(e);getdata("https://mk.jd.com/marketing/query/prizeCount?callback=functionCall&prizeId="+e)}});</script>